{%extends 'layouts/base.html' %}
{%block title %}Create Announcement - SMS Portal{%endblock %}
{%block breadcrumb %}Announcements > Create{%endblock %}
{%block content %}
<div class="page-header">
    <h1>üì¢ Create Announcement</h1>
    <p>Publish a new announcement to staff</p>
</div>

<div class="card" style="max-width: 700px;">
    <form method="POST" enctype="multipart/form-data">
        {%csrf_token %}
        {%if form.errors %}
        <div style="background: #fee2e2; color: #dc2626; padding: 10px 14px; border-radius: 8px; font-size: 13px; margin-bottom: 16px;">
            {%for field, errors in form.errors.items %}
                {%for error in errors %}
                <p>{{field }}: {{error }}</p>
                {%endfor %}
            {%endfor %}
        </div>
        {%endif %}

        <div class="form-group">
            <label>Title *</label>
            {{form.title }}
        </div>

        <div class="form-group">
            <label>Content *</label>
            {{form.content }}
        </div>

        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 16px;">
            <div class="form-group">
                <label>Category *</label>
                {{form.category }}
            </div>
            <div class="form-group">
                <label>Priority *</label>
                {{form.priority }}
            </div>
        </div>

        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 16px;">
            <div class="form-group">
                <label>Who Can See This *</label>
                {{form.visibility }}
            </div>
            <div class="form-group">
                <label>Expires At (Optional)</label>
                {{form.expires_at }}
            </div>
        </div>

        <div class="form-group">
            <label style="display: flex; align-items: center; gap: 8px;">
                {{form.is_pinned }}
                <span>üìå Pin this announcement (shows at top)</span>
            </label>
        </div>

        <div class="form-group">
            <label>Attachment (Optional - Max 5MB)</label>
            <div style="border: 2px dashed #d1d5db; border-radius: 12px; padding: 20px; text-align: center; background: #f9fafb;">
                {{form.attachment }}
                <p style="margin-top: 8px; font-size: 12px; color: #94a3b8;">Allowed: PDF, JPG, PNG, DOC, DOCX</p>
            </div>
        </div>

        <div style="text-align: right; margin-top: 20px; padding-top: 15px; border-top: 1px solid #f1f5f9;">
            <a href="javascript:history.back()" class="btn btn-secondary">‚Üê Back</a>
            <button type="submit" class="btn btn-primary">üì¢ Publish Announcement</button>
        </div>
    </form>
</div>
{%endblock %}
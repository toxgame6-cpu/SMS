{% extends 'layouts/base.html' %}
{% block title %}Guardian Dashboard - SMS Portal{% endblock %}
{% block breadcrumb %}Guardian > Dashboard{% endblock %}
{% block content %}
<div class="page-header">
  <h1>Welcome, {{ request.user.full_name }}! ğŸ‘‹</h1>
  <p>Your assigned files and activity</p>
</div>

<div class="stats-grid">
  <div class="stat-card">
    <div class="icon">ğŸ“</div>
    <div class="value">{{ stats.assigned_files }}</div>
    <div class="label">Assigned Files</div>
    <a href="{% url 'file_list' %}" class="stat-link">Browse â†’</a>
  </div>
  <div class="stat-card">
    <div class="icon">ğŸ“</div>
    <div class="value">{{ stats.total_students }}</div>
    <div class="label">Assigned Students</div>
  </div>
  <div class="stat-card">
    <div class="icon">ğŸ“‹</div>
    <div class="value">{{ stats.my_requests }}</div>
    <div class="label">My Edit Requests</div>
    <a href="{% url 'my_requests' %}" class="stat-link">Track â†’</a>
  </div>
  <div class="stat-card">
    <div class="icon">â³</div>
    <div class="value">{{ stats.pending_requests }}</div>
    <div class="label">Pending Requests</div>
  </div>
</div>

<div class="dashboard-grid">
  <!-- Quick Actions -->
  <div class="card">
    <div class="card-header">
      <h3>âš¡ Quick Actions</h3>
    </div>
    <div class="quick-actions-list">
      <a href="{% url 'file_list' %}" class="quick-action-item">
        <span class="quick-action-icon">ğŸ“</span>
        <span class="quick-action-text">View My Assigned Files</span>
        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="9 18 15 12 9 6"/></svg>
      </a>
      <a href="{% url 'my_requests' %}" class="quick-action-item">
        <span class="quick-action-icon">ğŸ“‹</span>
        <span class="quick-action-text">View My Edit Requests</span>
        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="9 18 15 12 9 6"/></svg>
      </a>
      <a href="{% url 'announcement_list' %}" class="quick-action-item">
        <span class="quick-action-icon">ğŸ“¢</span>
        <span class="quick-action-text">View Announcements</span>
        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="9 18 15 12 9 6"/></svg>
      </a>
      <a href="{% url 'activity_feed' %}" class="quick-action-item">
        <span class="quick-action-icon">ğŸ””</span>
        <span class="quick-action-text">Activity Feed</span>
        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="9 18 15 12 9 6"/></svg>
      </a>
    </div>
  </div>

  <!-- Info Card -->
  <div class="card">
    <div class="card-header">
      <h3>ğŸ“Œ Quick Info</h3>
    </div>
    <div class="info-card-body">
      <p class="info-greeting">ğŸ‘‹ Welcome to your Guardian panel. You can:</p>
      <ul class="info-list">
        <li>
          <span class="info-list-icon">ğŸ“</span>
          <span>Access your assigned student records</span>
        </li>
        <li>
          <span class="info-list-icon">âœï¸</span>
          <span>Submit edit requests for review</span>
        </li>
        <li>
          <span class="info-list-icon">ğŸ“¢</span>
          <span>Stay updated with announcements</span>
        </li>
        <li>
          <span class="info-list-icon">ğŸ“‹</span>
          <span>Track your request approval history</span>
        </li>
      </ul>
    </div>
  </div>
</div>

<style>
.dashboard-grid {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: var(--spacing-md);
}

@media (max-width: 768px) {
  .dashboard-grid {
    grid-template-columns: 1fr;
  }
}

.quick-actions-list {
  display: flex;
  flex-direction: column;
  gap: 4px;
}

.quick-action-item {
  display: flex;
  align-items: center;
  gap: 12px;
  padding: 11px 14px;
  border-radius: var(--radius-sm);
  text-decoration: none;
  color: var(--text-secondary);
  font-size: 13px;
  font-weight: 500;
  transition: all 0.2s var(--transition-default);
  border: 1px solid transparent;
}

.quick-action-item:hover {
  background: var(--bg-hover);
  color: var(--primary);
  border-color: var(--border);
  transform: translateX(4px);
}

.quick-action-icon {
  width: 34px;
  height: 34px;
  border-radius: var(--radius-sm);
  background: var(--primary-glow);
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 16px;
  flex-shrink: 0;
  transition: all 0.2s ease;
}

.quick-action-item:hover .quick-action-icon {
  background: var(--primary-glow-strong);
  transform: scale(1.05);
}

.quick-action-text {
  flex: 1;
}

.quick-action-item svg {
  color: var(--text-muted);
  opacity: 0;
  transform: translateX(-4px);
  transition: all 0.2s ease;
  flex-shrink: 0;
}

.quick-action-item:hover svg {
  opacity: 1;
  transform: translateX(0);
  color: var(--primary);
}

.info-card-body {
  padding: 8px 0;
}

.info-greeting {
  font-size: 14px;
  color: var(--text-secondary);
  font-weight: 500;
  margin-bottom: 16px;
}

.info-list {
  list-style: none;
  padding: 0;
  margin: 0;
  display: flex;
  flex-direction: column;
  gap: 10px;
}

.info-list li {
  display: flex;
  align-items: center;
  gap: 12px;
  font-size: 13px;
  color: var(--text-secondary);
  line-height: 1.5;
  padding: 8px 12px;
  border-radius: var(--radius-sm);
  background: var(--bg-hover);
  border: 1px solid var(--border);
  transition: all 0.2s ease;
}

.info-list li:hover {
  border-color: var(--border-hover);
  transform: translateX(3px);
}

.info-list-icon {
  width: 28px;
  height: 28px;
  border-radius: 8px;
  background: var(--primary-glow);
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 13px;
  flex-shrink: 0;
}
</style>
{% endblock %}
{%extends 'layouts/base.html' %} {%block title %}My Requests - SMS Portal{%endblock %} {%block breadcrumb %}{{request.user.get_role_display }} > My
Requests{%endblock %} {%block content %}
<div class="page-header">
  <h1>ğŸ“‹ My Edit Requests</h1>
  <p>Track your edit requests and their status</p>
</div>

{%if page_obj.object_list %} {%for notif in page_obj %}
<div
  class="card"
  style="border-left: 4px solid {%if notif.status == 'pending' %}#d97706{%elif notif.status == 'resolved' %}#16a34a{%else %}#94a3b8{%endif %};">
  <div class="flex-between">
    <span
      class="badge {%if notif.status == 'pending' %}badge-warning{%elif notif.status == 'resolved' %}badge-success{%else %}badge-gray{%endif %}">
      {{notif.get_status_display }}
    </span>
    <span style="font-size: 12px; color: #94a3b8">{{notif.created_at|timesince }} ago</span>
  </div>

  <div style="margin-top: 12px">
    <p style="font-size: 14px">
      Requested edit on
      <strong>{{notif.get_field_to_edit_display }}</strong> for student
      <strong>{{notif.student.full_name }}</strong>
    </p>
    <p style="font-size: 13px; color: #64748b">
      File: {{notif.student_file.file_name }}
    </p>
    <p
      style="
        font-size: 13px;
        margin-top: 8px;
        background: #f8fafc;
        padding: 10px;
        border-radius: 6px;
      ">
      ğŸ’¬ "{{notif.remark }}"
    </p>

    {%if notif.status == 'resolved' %}
    <p style="font-size: 12px; color: #16a34a; margin-top: 8px">
      âœ… Resolved by {{notif.resolved_by.full_name }} on {{notif.resolved_at|date:"d M Y, h:i A" }}
    </p>
    {%endif %}
  </div>
</div>
{%endfor %} {%if page_obj.has_other_pages %}
<div class="pagination">
  {%if page_obj.has_previous %}<a
    href="?page={{page_obj.previous_page_number }}">â† Prev</a>{%endif %} {%for num in page_obj.paginator.page_range %}{%if page_obj.number == num %}<span class="current">{{num }}</span>{%elif num > page_obj.number|add:'-3' and num < page_obj.number|add:'3' %}<a
    href="?page={{num }}">{{num }}</a>{%endif %}{%endfor %} {%if page_obj.has_next %}<a
    href="?page={{page_obj.next_page_number }}">Next â†’</a>{%endif %}
</div>
{%endif %} {%else %}
<div class="empty-state card">
  <h3>No requests yet</h3>
  <p>
    You haven't made any edit requests yet. Go to a student list to mark edit
    requests.
  </p>
</div>
{%endif %} {%endblock %}
